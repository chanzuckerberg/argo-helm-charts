# Example: Using IRSA (IAM Roles for Service Accounts) for AWS access
# This is the recommended approach for EKS clusters

replicaCount: 1

image:
  repository: 123456789012.dkr.ecr.us-west-2.amazonaws.com/prom2parquet
  pullPolicy: IfNotPresent
  tag: "v1.0.0"

serviceAccount:
  create: true
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::123456789012:role/prom2parquet-role

backend:
  type: "s3/aws"
  root: "my-metrics-bucket"

serverPort: 1234

service:
  type: ClusterIP
  port: 1234

resources:
  limits:
    cpu: "500m"
    memory: "512Mi"
  requests:
    cpu: "100m"
    memory: "128Mi"

nodeSelector:
  kubernetes.io/arch: arm64

